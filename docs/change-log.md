# Changelog — Sprint 1

โปรเจค: **Painamnae** — ระบบแชร์การเดินทาง

---

## 18 กุมภาพันธ์ 2569

### รวมงานจากทุกสมาชิก

- รวม branch ของสมาชิกทุกคนเข้า main (Pull Request #1–#8)
- อัปเดตข้อมูลทีมในหน้า about-my-team

### เอกสาร

- เพิ่มไฟล์ A-DAPT Blueprint พร้อมรูปภาพ และข้อมูลทดสอบ
- เพิ่มไฟล์ A-DAPT Blueprint and Task (.xlsx)
- เพิ่ม Sprint Backlog (.xlsx)
- เพิ่ม UAT Test (.xlsx)
- อัปโหลดคู่มือการใช้งาน (.md & .pdf)

### ทดสอบระบบ

- เขียน Automated API Test สำหรับระบบรายงาน (Report) ด้วย Jest + Supertest รวม 17 test cases ครอบคลุมทุก endpoint
- แยกไฟล์ Express app (`app.js`) ออกจาก server เพื่อรองรับการทดสอบอัตโนมัติ
- เพิ่ม Test Cases สำหรับ PID-001-001 (คนขับ) และ PID-002-001 (ผู้โดยสาร)

### แก้ไขข้อผิดพลาด (Bug Fixes)

- แก้ปัญหาคนขับที่จองเดินทางเป็นผู้โดยสาร ไม่สามารถส่ง report ได้ (เดิมล็อค role ไว้)
- แก้หน้า "การเดินทางของฉัน" ให้คนขับเห็นเส้นทางที่ตัวเองสร้างด้วย (เดิมแสดงแค่การจองในฐานะผู้โดยสาร)
- แก้หน้า "เส้นทางของฉัน" ให้แสดงเส้นทางทุกสถานะ รวมถึงที่เสร็จสิ้นและยกเลิกแล้ว
- แก้ปัญหา CORS ที่ทำให้ frontend เรียก API ไม่ได้
- แก้ข้อผิดพลาดหน้า Admin ที่เกิดจากการโหลดข้อมูล user ก่อนที่จะพร้อม

### ฟีเจอร์ใหม่ — ระบบรายงาน (Report System)

- สร้างตาราง database สำหรับเก็บข้อมูลรายงาน (Report, เหตุผล, ไฟล์แนบ)
- สร้าง API สำหรับส่งรายงานโดยคนขับและผู้โดยสาร สามารถแก้ไขได้ก่อน admin ดำเนินการ
- สร้าง API สำหรับ admin ใช้ปิดเคส (resolve) พร้อมส่งแจ้งเตือนให้ผู้ส่งรายงาน
- สร้างหน้าต่าง pop-up สำหรับกรอกรายงาน ทั้งฝั่งคนขับและผู้โดยสาร (รองรับอัปโหลดรูปและวิดีโอ)
- เพิ่มปุ่มรายงานในหน้าเดินทาง โดยมี 3 สถานะ: ยังไม่ report / report แล้ว / ดำเนินการเรียบร้อย

### Deployment

- สร้าง Dockerfile สำหรับ deploy backend ขึ้น server
- ปรับ Docker base image เป็น node:20-slim เพื่อความเข้ากันได้ดีขึ้น

### อื่นๆ

- ลบไฟล์ .env.render ที่ไม่ใช้แล้ว
- ลบไฟล์เอกสารซ้ำที่อัปโหลดผิด

---

## 17 กุมภาพันธ์ 2569

### เริ่มต้นโปรเจค

- สร้าง repository และตั้งค่าโปรเจคเริ่มต้น
- เพิ่ม README.md และ .gitignore
- เพิ่มข้อมูลสมาชิกในทีม (about-my-team.md)
- เพิ่มโปรเจคอ้างอิง (reference project)
- สร้างโครงสร้าง frontend (Nuxt.js) และ backend (Express.js) เริ่มต้น
- เพิ่มคู่มือการใช้งานสำหรับ Sprint 1
